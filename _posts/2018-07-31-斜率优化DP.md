---
layout:     post
title:      "斜率优化DP"
subtitle:   "数学真**"
date:       2018-07-31 12:00:00
author:     "Aspe"
header-img: "img/post-bg-2015.jpg"
mathjax:    false
catalog:    true
tags:
    - 算法
    - 动态规划
    - 斜率优化DP
---

## 简介
   对于形如`f[i]=min(k(i)*x(j)+y(j)+b(i))`，满足j<i，k函数都单调上升或下降，x函数单调上升，的DP方程，可以运用数学推导，用单调队列，以O(n)的复杂度解决，这其实就是个板子。

---

## 答案都是比出来的
   在求f[p]时，我们来比1比i与j(i,j<p)对f[p]的贡献吧。
   若i比j好，用作差法，即`f[i->p]-f[j->p]<0`
   代入，就成了`[k(p)*x(i)+y(i)+b(p)]-[k(p)*x(j)+y(j)+b(p)]<0`
   把式子搞的好看点`k(p)<[y(i)-y(j)]/[x(i)-x(j)]`
   这就是斜率了，注意
   这点很重要，比较i,j的优劣公式：若`k(p)<[y(i)-y(j)]/[x(i)-x(j)]`，i比j优

---

## 要开始了
   单调队列！
   我们要牢记，在单调队列里，1个点(x,y)是没用的，要2个点才能比较，组成斜率。
   我们要想象1条队列：op[Head],op[Head+1],...op[Tail]

---

## 出队pop
   

---
## 入队push
   决策单调性
   若j<i，i比j优，那么，i永远比j优
   我们来试试
   我们已经知道了这个：`[k(p)*x(i)+y(i)+b(p)]-[k(p)*x(j)+y(j)+b(p)]<0`
   那就要证明这个：`[k(p+1)*x(i)+y(i)+b(p+1)]-[k(p+1)*x(j)+y(j)+b(p+1)]<0`

---

## 总结

---
